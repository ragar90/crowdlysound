<p id="notice"><%= notice %></p>

<% if @current_musician.can_edit_song?(@song) %>
	<%= link_to 'Edit', edit_song_path(@song) %> |
	<%= link_to 'Go to your songs', songs_path %>
<% end %>

<h1> <%= @song.name.titleize %></h1>
<p> <%= @song.description %></p>

<ul class = "genre-tags">
  <% @song.genres.each do | genre| %>
    <li> <%= genre.name.titleize %></li>
  <% end %>
</ul>
<% @song.music_sheets.each do |music_sheet| %>
  <div class = "tab-container">
    <h3> <%= music_sheet.instrument.name.titleize %></h3>
      <div class="vex-tabdiv" width=700 scale=1.0 editor="false" editor_width=720 editor_height=220> <%= music_sheet.notes %></div>
      <%= link_to "Edit", edit_song_music_sheet_path(song_id:@song.id, id:music_sheet.id) %>
  </div>
<% end %>

<div class = "comments">
  <%= render partial: "/comments/index" %>
</div>
<%= content_for :vextab do %>
  <%= javascript_include_tag "vextab/vexflow-min" %>
  <%= javascript_include_tag "vextab/underscore-min" %>
  <%= javascript_include_tag "vextab/tabdiv-min" %>
<% end %>

<div>
  <%= render :partial => "rocks/rock", :locals => {item: @song} %>
</div>